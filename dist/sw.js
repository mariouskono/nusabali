self.addEventListener("fetch",(t=>{t.respondWith(caches.match(t.request).then((n=>n||fetch(t.request))))})),self.addEventListener("push",(function(t){const n=t.data?t.data.json():{},i=n.title||"Dicoding Story",e=n.options||{body:"Ada update baru dari Dicoding Story!"};t.waitUntil(self.registration.showNotification(i,e))})),self.addEventListener("notificationclick",(function(t){t.notification.close(),t.waitUntil(clients.matchAll({type:"window",includeUncontrolled:!0}).then((t=>{for(const n of t)if(n.url&&"focus"in n)return n.focus();if(clients.openWindow)return clients.openWindow("/")})))}));